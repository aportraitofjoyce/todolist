(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{13:function(t,e,a){t.exports={todolistsWrapper:"Todolists_todolistsWrapper__TI3gB",addTodolistContainer:"Todolists_addTodolistContainer__1cdOQ",todolistContainer:"Todolists_todolistContainer__1I_ED",buttonsContainer:"Todolists_buttonsContainer__2VmF0",titleContainer:"Todolists_titleContainer__3Jbgy",addTaskContainer:"Todolists_addTaskContainer__1tu1E",taskContentContainer:"Todolists_taskContentContainer__1CVB8",taskContent:"Todolists_taskContent__1cOJ1"}},21:function(t,e,a){t.exports={default:"Button_default__155K_",icon:"Button_icon__3YoO_",grouped:"Button_grouped__2fhOe",active:"Button_active__3_huY"}},22:function(t,e,a){t.exports={container:"Input_container__24JuA",inputError:"Input_inputError__vwjSN",errorMessage:"Input_errorMessage__3CbEZ",eye:"Input_eye__eCHIE"}},23:function(t,e,a){t.exports={wrapper:"Navigation_wrapper__2hK5a",container:"Navigation_container__p5vR0",active:"Navigation_active__HB2K8"}},27:function(t,e,a){t.exports={alertsWrapper:"Alerts_alertsWrapper__3IHyp",container:"Alerts_container__3B1Mn",show:"Alerts_show__CbhEe",error:"Alerts_error__229Mn"}},38:function(t,e,a){t.exports={label:"Checkbox_label__R4tgA",checkbox:"Checkbox_checkbox__1SuJM"}},40:function(t,e,a){t.exports={progressContainer:"Progress_progressContainer__2HjsN",progressBar:"Progress_progressBar__1KmHj",loading:"Progress_loading__1Okdl"}},52:function(t,e,a){t.exports={container:"AddItemForm_container__6N7lY"}},56:function(t,e,a){t.exports={wrapper:"Error_wrapper__1sZMS"}},63:function(t,e,a){},88:function(t,e,a){"use strict";a.r(e);var n,r,s=a(0),c=a.n(s),o=a(31),i=a.n(o),u=(a(63),a(14)),l=a(28),d=a(12),p=a(24),b=a(2),j=a(58),f=a(3),h=a.n(f),O=a(7),x=a(4),m=Object(x.c)({name:"app",initialState:{isLoading:!1,error:"",isInitialized:!1},reducers:{setAppIsLoading:function(t,e){t.isLoading=e.payload.status},setAppError:function(t,e){t.error=e.payload.error},setAppInitialized:function(t,e){t.isInitialized=e.payload.status}}}),k=m.reducer,v=m.actions,g=v.setAppIsLoading,C=v.setAppError,I=v.setAppInitialized,_=a(51),y=a.n(_).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1",withCredentials:!0,headers:{"API-KEY":"6f228861-1f0c-43fb-a420-fcf28121de49"}}),w=function(){return y.get("/todo-lists").then((function(t){return t.data}))},D=function(t){return y.post("/todo-lists",{title:t}).then((function(t){return t.data}))},T=function(t,e){return y.put("/todo-lists/".concat(t),{title:e}).then((function(t){return t.data}))},N=function(t){return y.delete("/todo-lists/".concat(t)).then((function(t){return t.data}))};!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error",t[t.Captcha=10]="Captcha"}(n||(n={})),function(t){t[t.New=0]="New",t[t.inProgress=1]="inProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={}));var E,S=function(t,e){e(C({error:t}))},L=function(t,e){e(C({error:t.messages[0]||"Unrecognized error"}))},A=Object(x.b)("todolists/fetchTodolists",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,w();case 4:n=t.sent,a.dispatch(J({todolists:n})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),S("Network Error",a.dispatch);case 11:return t.prev=11,a.dispatch(g({status:!1})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}()),M=Object(x.b)("todolists/deleteTodolist",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,N(e.todolistID);case 4:(r=t.sent).resultCode===n.Success?a.dispatch(H({todolistID:e.todolistID})):L(r,a.dispatch),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),S("Network Error",a.dispatch);case 11:return t.prev=11,a.dispatch(g({status:!1})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}()),P=Object(x.b)("todolists/createTodolist",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,D(e.title);case 4:(r=t.sent).resultCode===n.Success?a.dispatch(K({todolist:r.data.item})):L(r,a.dispatch),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),S("Network Error",a.dispatch);case 11:return t.prev=11,a.dispatch(g({status:!1})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}()),B=Object(x.b)("todolists/updateTodolistTitle",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,T(e.todolistID,e.title);case 4:(r=t.sent).resultCode===n.Success?a.dispatch(z({todolistID:e.todolistID,title:e.title})):L(r,a.dispatch),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),S("Network Error",a.dispatch);case 11:return t.prev=11,a.dispatch(g({status:!1})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}()),R=Object(x.c)({name:"todolist",initialState:[],reducers:{removeTodolist:function(t,e){return t.filter((function(t){return t.id!==e.payload.todolistID}))},addTodolist:function(t,e){return[Object(b.a)(Object(b.a)({},e.payload.todolist),{},{filter:"All",entityStatus:"idle"})].concat(Object(j.a)(t))},changeTodolistFilter:function(t,e){return t.map((function(t){return t.id===e.payload.todolistID?Object(b.a)(Object(b.a)({},t),{},{filter:e.payload.filter}):t}))},changeTodolistTitle:function(t,e){return t.map((function(t){return t.id===e.payload.todolistID?Object(b.a)(Object(b.a)({},t),{},{title:e.payload.title}):t}))},setTodolists:function(t,e){return e.payload.todolists.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{filter:"All",entityStatus:"idle"})}))}}}),W=R.reducer,F=R.actions,H=F.removeTodolist,K=F.addTodolist,V=F.changeTodolistFilter,z=F.changeTodolistTitle,J=F.setTodolists,Y=a(25),G=function(t){return y.get("/todo-lists/".concat(t,"/tasks")).then((function(t){return t.data}))},Z=function(t,e){return y.post("/todo-lists/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data}))},q=function(t,e,a){return y.put("/todo-lists/".concat(t,"/tasks/").concat(e),a).then((function(t){return t.data}))},U=function(t,e){return y.delete("/todo-lists/".concat(e,"/tasks/").concat(t)).then((function(t){return t.data}))},Q=Object(x.b)("tasks/fetchTasks",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,G(e.todolistID);case 4:return n=t.sent,t.abrupt("return",{tasks:n.items,todolistID:e.todolistID});case 8:t.prev=8,t.t0=t.catch(0),S("Network Error",a.dispatch);case 11:return t.prev=11,a.dispatch(g({status:!1})),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e,a){return t.apply(this,arguments)}}()),X=Object(x.b)("tasks/deleteTask",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,U(e.taskID,e.todolistID);case 4:if((r=t.sent).resultCode!==n.Success){t.next=9;break}return t.abrupt("return",{taskID:e.taskID,todolistID:e.todolistID});case 9:L(r,a.dispatch);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),S("Network Error",a.dispatch);case 15:return t.prev=15,a.dispatch(g({status:!1})),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})));return function(e,a){return t.apply(this,arguments)}}()),$=Object(x.b)("tasks/createTask",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,Z(e.todolistID,e.title);case 4:if((r=t.sent).resultCode!==n.Success){t.next=9;break}return t.abrupt("return",{task:r.data.item});case 9:L(r,a.dispatch);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),S("Network Error",a.dispatch);case 15:return t.prev=15,a.dispatch(g({status:!1})),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})));return function(e,a){return t.apply(this,arguments)}}()),tt=Object(x.b)("tasks/updateTaskTitle",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r,s,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=a.getState(),a.dispatch(g({status:!0})),!(s=r.tasks[e.todolistID].find((function(t){return t.id===e.taskID})))){t.next=14;break}return c={status:s.status,title:e.title},t.next=8,q(e.todolistID,e.taskID,c);case 8:if((o=t.sent).resultCode!==n.Success){t.next=13;break}return t.abrupt("return",{todolistID:e.todolistID,taskID:e.taskID,title:e.title});case 13:L(o,a.dispatch);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),S("Network Error",a.dispatch);case 19:return t.prev=19,a.dispatch(g({status:!1})),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})));return function(e,a){return t.apply(this,arguments)}}()),et=Object(x.b)("tasks/updateTaskStatus",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r,s,c,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=a.getState(),a.dispatch(g({status:!0})),!(s=r.tasks[e.todolistID].find((function(t){return t.id===e.taskID})))){t.next=14;break}return c={title:s.title,status:e.status},t.next=8,q(e.todolistID,e.taskID,c);case 8:if((o=t.sent).resultCode!==n.Success){t.next=13;break}return t.abrupt("return",{todolistID:e.todolistID,taskID:e.taskID,status:e.status});case 13:L(o,a.dispatch);case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),S("Network Error",a.dispatch);case 19:return t.prev=19,a.dispatch(g({status:!1})),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[0,16,19,22]])})));return function(e,a){return t.apply(this,arguments)}}()),at=Object(x.c)({name:"tasks",initialState:{},reducers:{},extraReducers:function(t){return t.addCase(J,(function(t,e){e.payload.todolists.forEach((function(e){return t[e.id]=[]}))})).addCase(K,(function(t,e){t[e.payload.todolist.id]=[]})).addCase(H,(function(t,e){delete t[e.payload.todolistID]})).addCase(Q.fulfilled,(function(t,e){t[e.payload.todolistID]=e.payload.tasks})).addCase(X.fulfilled,(function(t,e){var a=t[e.payload.todolistID].findIndex((function(t){return t.id===e.payload.taskID}));t[e.payload.todolistID].splice(a,1)})).addCase($.fulfilled,(function(t,e){t[e.payload.task.todoListId].unshift(e.payload.task)})).addCase(et.fulfilled,(function(t,e){return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.payload.todolistID,t[e.payload.todolistID].map((function(t){return t.id===e.payload.taskID?Object(b.a)(Object(b.a)({},t),{},{status:e.payload.status}):t}))))})).addCase(tt.fulfilled,(function(t,e){return Object(b.a)(Object(b.a)({},t),{},Object(Y.a)({},e.payload.todolistID,t[e.payload.todolistID].map((function(t){return t.id===e.payload.taskID?Object(b.a)(Object(b.a)({},t),{},{title:e.payload.title}):t}))))}))}}).reducer,nt=function(t){return y.post("/auth/login",t).then((function(t){return t.data}))},rt=function(){return y.delete("/auth/login").then((function(t){return t.data}))},st=function(){return y.get("/auth/me").then((function(t){return t.data}))},ct=Object(x.b)("auth/login",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,nt(e.loginData);case 4:if((r=t.sent).resultCode!==n.Success){t.next=9;break}a.dispatch(pt({status:!0})),t.next=11;break;case 9:return L(r,a.dispatch),t.abrupt("return",a.rejectWithValue({errors:r.messages,fieldErrors:r.fieldsErrors}));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),S("Network Error",a.dispatch),t.abrupt("return",a.rejectWithValue({errors:t.t0.messages,fieldErrors:void 0}));case 17:return t.prev=17,a.dispatch(g({status:!1})),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,13,17,20]])})));return function(e,a){return t.apply(this,arguments)}}()),ot=Object(x.b)("auth/checkAuth",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,st();case 4:if((r=t.sent).resultCode!==n.Success){t.next=10;break}a.dispatch(pt({status:!0})),a.dispatch(bt({data:r.data})),t.next=12;break;case 10:return L(r,a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),S("Network Error",a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 18:return t.prev=18,a.dispatch(I({status:!0})),a.dispatch(g({status:!1})),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[0,14,18,22]])})));return function(e,a){return t.apply(this,arguments)}}()),it=Object(x.b)("auth/logout",function(){var t=Object(O.a)(h.a.mark((function t(e,a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.dispatch(g({status:!0})),t.next=4,rt();case 4:if((r=t.sent).resultCode!==n.Success){t.next=9;break}a.dispatch(pt({status:!1})),t.next=11;break;case 9:return L(r,a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),S("Network Error",a.dispatch),t.abrupt("return",a.rejectWithValue({}));case 17:return t.prev=17,a.dispatch(g({status:!1})),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,13,17,20]])})));return function(e,a){return t.apply(this,arguments)}}()),ut=Object(x.c)({name:"auth",initialState:{isLoggedIn:!1},reducers:{setIsLoggedIn:function(t,e){t.isLoggedIn=e.payload.status},setAuthData:function(t,e){return Object(b.a)(Object(b.a)({},e.payload.data),{},{isLoggedIn:!0})}}}),lt=ut.reducer,dt=ut.actions,pt=dt.setIsLoggedIn,bt=dt.setAuthData,jt=Object(d.b)({todolists:W,tasks:at,app:k,auth:lt}),ft=Object(x.a)({reducer:jt,middleware:function(t){return t().prepend(p.a)}}),ht=a(5),Ot=a(13),xt=a.n(Ot),mt=l.c,kt=function(){return Object(l.b)()},vt=a(15),gt=a(18),Ct=a(21),It=a.n(Ct),_t=a(1),yt=Object(s.memo)((function(t){var e=t.active,a=t.grouped,n=t.className,r=t.disabled,s=Object(gt.a)(t,["active","grouped","className","disabled"]),c=mt((function(t){return t.app.isLoading})),o="".concat(It.a.default," ").concat(e?It.a.active:""," ").concat(a?It.a.grouped:""," ").concat(n||"");return Object(_t.jsx)("button",Object(b.a)({className:o,disabled:r||c},s))})),wt=a(22),Dt=a.n(wt),Tt=function(){return Object(_t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",children:[Object(_t.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),Object(_t.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})},Nt=Object(s.memo)((function(t){var e=t.type,a=t.onChange,n=t.onChangeText,r=t.onKeyPress,c=t.onEnter,o=t.error,i=t.className,u=t.spanClassName,l=t.password,d=t.disabled,p=Object(gt.a)(t,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","password","disabled"]),j=mt((function(t){return t.app.isLoading})),f=Object(s.useState)(!l),h=Object(vt.a)(f,2),O=h[0],x=h[1],m="".concat(Dt.a.errorMessage," ").concat(u||""),k="".concat(o?Dt.a.inputError:""," ").concat(Dt.a.default," ").concat(i||"");return Object(_t.jsxs)("div",{className:Dt.a.container,children:[Object(_t.jsx)("input",Object(b.a)({type:l&&O?"text":e,onChange:function(t){a&&a(t),n&&n(t.currentTarget.value)},onKeyPress:function(t){r&&r(t),c&&"Enter"===t.key&&c()},className:k,placeholder:"Type text here...",disabled:d||j},p)),l&&Object(_t.jsx)("div",{className:Dt.a.eye,onClick:function(){return x(!O)},children:Object(_t.jsx)(Tt,{})}),o&&Object(_t.jsx)("span",{className:m,children:o})]})})),Et=a(52),St=a.n(Et),Lt=Object(s.memo)((function(t){var e=t.addItem,a=Object(s.useState)(""),n=Object(vt.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(!1),i=Object(vt.a)(o,2),u=i[0],l=i[1],d=Object(s.useCallback)((function(t){c(t.currentTarget.value),u&&l(!1)}),[u]),p=Object(s.useCallback)((function(){r.trim()?(e(r.trim()),c("")):(c(""),l(!0))}),[e,r]),b=Object(s.useCallback)((function(t){"Enter"===t.key&&p()}),[p]);return Object(_t.jsxs)("div",{className:St.a.container,children:[Object(_t.jsx)(Nt,{value:r,onChange:d,onKeyPress:b,error:u?"Field is required":""}),Object(_t.jsx)(yt,{onClick:p,children:"Add"})]})})),At=Object(s.memo)((function(t){var e=t.title,a=t.changeTitle,n=Object(s.useState)(e),r=Object(vt.a)(n,2),c=r[0],o=r[1],i=Object(s.useState)(!1),u=Object(vt.a)(i,2),l=u[0],d=u[1],p=Object(s.useCallback)((function(){return d(!0)}),[]),b=Object(s.useCallback)((function(){d(!1),a(c)}),[a,c]),j=Object(s.useCallback)((function(t){return o(t.currentTarget.value)}),[]),f=Object(s.useCallback)((function(t){"Enter"===t.key&&b()}),[b]);return l?Object(_t.jsx)(Nt,{value:c,onBlur:b,onChange:j,onKeyPress:f,autoFocus:!0}):Object(_t.jsx)("span",{onDoubleClick:p,children:e})})),Mt=Object(s.memo)((function(t){var e=t.className,a=t.disabled,n=Object(gt.a)(t,["className","disabled"]),r=mt((function(t){return t.app.isLoading})),s="".concat(It.a.icon," ").concat(e||"");return Object(_t.jsx)("button",Object(b.a)({className:s,disabled:a||r},n))})),Pt=function(){return Object(_t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",children:[Object(_t.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(_t.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},Bt=a(38),Rt=a.n(Bt),Wt=Object(s.memo)((function(t){var e=t.onChangeCallback,a=t.onChange,n=t.className,r=t.children,s=t.disabled,c=Object(gt.a)(t,["onChangeCallback","onChange","className","children","disabled"]),o=mt((function(t){return t.app.isLoading})),i="".concat(Rt.a.checkbox).concat(n||"");return Object(_t.jsxs)("label",{className:Rt.a.label,children:[Object(_t.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(t){a&&a(t),e&&e(t.currentTarget.checked)},disabled:s||o,className:i},c)),r&&Object(_t.jsx)("span",{children:r})]})})),Ft=Object(s.memo)((function(t){var e=t.todolistID,a=t.task,n=kt(),c=Object(s.useCallback)((function(t){return n(et({todolistID:e,taskID:a.id,status:t?r.Completed:r.inProgress}))}),[n,e,a.id]),o=Object(s.useCallback)((function(t){n(tt({todolistID:e,taskID:a.id,title:t}))}),[n,e,a.id]),i=Object(s.useCallback)((function(){n(X({taskID:a.id,todolistID:e}))}),[n,e,a.id]);return Object(_t.jsxs)("div",{className:xt.a.taskContentContainer,children:[Object(_t.jsxs)("div",{className:xt.a.taskContent,children:[Object(_t.jsx)(Wt,{checked:a.status===r.Completed,onChangeCallback:c}),Object(_t.jsx)(At,{title:a.title,changeTitle:o})]}),Object(_t.jsx)(Mt,{onClick:i,children:Object(_t.jsx)(Pt,{})})]})})),Ht=Object(s.memo)((function(t){var e=t.todolist,a=t.tasks,n=kt(),c=Object(s.useCallback)((function(t){return n($({title:t,todolistID:e.id}))}),[n,e.id]),o=Object(s.useCallback)((function(t){return n(B({title:t,todolistID:e.id}))}),[n,e.id]),i=Object(s.useCallback)((function(){return n(M({todolistID:e.id}))}),[n,e.id]),u=Object(s.useCallback)((function(t){return n(V({filter:t,todolistID:e.id}))}),[n,e.id]),l=Object(s.useCallback)((function(t){switch(t){case"Completed":return a.filter((function(t){return t.status===r.Completed}));case"Active":return a.filter((function(t){return t.status!==r.Completed}));default:return a}}),[a]);return Object(s.useEffect)((function(){n(Q({todolistID:e.id}))}),[n,e.id]),Object(_t.jsxs)("div",{className:xt.a.todolistContainer,children:[Object(_t.jsxs)("div",{className:xt.a.titleContainer,children:[Object(_t.jsx)(At,{title:e.title,changeTitle:o}),Object(_t.jsx)(Mt,{onClick:i,children:Object(_t.jsx)(Pt,{})})]}),Object(_t.jsx)("div",{className:xt.a.addTaskContainer,children:Object(_t.jsx)(Lt,{addItem:c})}),Object(_t.jsx)("div",{children:l(e.filter).map((function(t){return Object(_t.jsx)(Ft,{task:t,todolistID:e.id},t.id)}))}),Object(_t.jsxs)("div",{className:xt.a.buttonsContainer,children:[Object(_t.jsx)(yt,{onClick:function(){return u("All")},active:"All"===e.filter,grouped:!0,children:"All"}),Object(_t.jsx)(yt,{onClick:function(){return u("Active")},active:"Active"===e.filter,grouped:!0,children:"Active"}),Object(_t.jsx)(yt,{onClick:function(){return u("Completed")},active:"Completed"===e.filter,grouped:!0,children:"Completed"})]})]})})),Kt=Object(s.memo)((function(){var t=kt(),e=mt((function(t){return t.auth.isLoggedIn})),a=mt((function(t){return t.tasks})),n=mt((function(t){return t.todolists})),r=Object(s.useCallback)((function(e){return t(P({title:e}))}),[t]);return Object(s.useEffect)((function(){e&&t(A())}),[t,e]),e?Object(_t.jsxs)("div",{children:[Object(_t.jsx)("h1",{children:"Todolist"}),Object(_t.jsx)("div",{className:xt.a.addTodolistContainer,children:Object(_t.jsx)(Lt,{addItem:r})}),Object(_t.jsx)("div",{className:xt.a.todolistsWrapper,children:n.map((function(t){return Object(_t.jsx)(Ht,{todolist:t,tasks:a[t.id]},t.id)}))})]}):Object(_t.jsx)(ht.a,{to:E.LOGIN})})),Vt=a(57),zt=a(56),Jt=a.n(zt);!function(t){t.HOME="/",t.EMPTY="",t.TODOLIST="/todolist",t.LOGIN="/login",t.ERROR="/404"}(E||(E={}));var Yt=[{path:E.HOME,component:function(){return Object(_t.jsx)("div",{children:Object(_t.jsx)("h1",{children:"Home page"})})},exact:!0},{path:E.TODOLIST,component:Kt},{path:E.LOGIN,component:function(){var t=mt((function(t){return t.auth.isLoggedIn})),e=kt(),a=Object(Vt.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(t){var e={};return t.email||(e.email="Email is required"),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"),(!t.password||t.password.length<3||t.password.length>20)&&(e.password="Must be 3-20 characters"),e},onSubmit:function(t,a){return e(ct({loginData:t}))}});return t?Object(_t.jsx)(ht.a,{to:E.TODOLIST}):Object(_t.jsxs)("div",{style:{marginTop:40},children:[Object(_t.jsxs)("form",{onSubmit:a.handleSubmit,style:{display:"flex",flexDirection:"column",gap:24},children:[Object(_t.jsx)(Nt,Object(b.a)({type:"text",placeholder:"Email"},a.getFieldProps("email"))),a.errors.email&&a.touched.email&&Object(_t.jsx)("div",{style:{color:"red"},children:a.errors.email}),Object(_t.jsx)(Nt,Object(b.a)({type:"password",password:!0,placeholder:"Password"},a.getFieldProps("password"))),a.errors.password&&a.touched.password&&Object(_t.jsx)("div",{style:{color:"red"},children:a.errors.password}),Object(_t.jsx)(Wt,Object(b.a)(Object(b.a)({id:"rememberMe",checked:a.values.rememberMe},a.getFieldProps("rememberMe")),{},{children:"Remember Me"})),Object(_t.jsx)(yt,{type:"submit",children:"Login"})]}),Object(_t.jsx)("div",{style:{margin:"40px 0"},children:Object(_t.jsxs)("p",{children:["To login, you can register ",Object(_t.jsx)("a",{href:"https://social-network.samuraijs.com/",rel:"noreferrer",target:"_blank",children:"here"})]})})]})}},{path:E.ERROR,component:function(){var t=Object(ht.g)();return Object(_t.jsxs)("div",{className:Jt.a.wrapper,children:[Object(_t.jsx)("h1",{children:"Page not found!"}),Object(_t.jsx)("img",{src:"https://cdn.statically.io/img/i.pinimg.com/originals/ef/0b/58/ef0b58bc4be3f9622c10a73fe685c57d.jpg",alt:"error"}),Object(_t.jsx)(yt,{onClick:function(){return t.goBack()},children:"Go back"})]})}}],Gt=a(40),Zt=a.n(Gt),qt=Object(s.memo)((function(){return Object(_t.jsx)("div",{className:Zt.a.progressContainer,children:Object(_t.jsx)("div",{className:Zt.a.progressBar})})})),Ut=function(){var t=mt((function(t){return t.app})),e=t.isInitialized,a=t.isLoading,n=kt();return Object(s.useEffect)((function(){n(ot())}),[n]),e?Object(_t.jsxs)(_t.Fragment,{children:[a&&Object(_t.jsx)(qt,{}),Object(_t.jsxs)(ht.d,{children:[Yt.map((function(t){return Object(_t.jsx)(ht.b,{path:t.path,component:t.component,exact:t.exact},t.path)})),Object(_t.jsx)(ht.a,{from:E.EMPTY,to:E.ERROR})]})]}):Object(_t.jsx)(qt,{})},Qt=a(23),Xt=a.n(Qt),$t=function(){var t=mt((function(t){return t.auth})).isLoggedIn,e=kt();return Object(_t.jsx)("div",{className:Xt.a.wrapper,children:Object(_t.jsxs)("nav",{className:Xt.a.container,children:[Object(_t.jsx)(u.b,{activeClassName:Xt.a.active,to:E.HOME,exact:!0,children:"Home"}),Object(_t.jsx)(u.b,{activeClassName:Xt.a.active,to:E.TODOLIST,children:"Todolist"}),t?Object(_t.jsx)("span",{onClick:function(){return e(it())},children:"Logout"}):Object(_t.jsx)(u.b,{activeClassName:Xt.a.active,to:E.LOGIN,children:"Login"})]})})},te=a(27),ee=a.n(te),ae=Object(s.memo)((function(t){var e=t.type,a=t.text,n=t.open,r=t.onClose,c=Object(s.useState)(n),o=Object(vt.a)(c,2),i=o[0],u=o[1],l=Object(s.useCallback)((function(){u(!1),r()}),[r]);return Object(s.useEffect)((function(){u(n);var t=setTimeout((function(){l()}),3500);return function(){return clearTimeout(t)}}),[l,n]),Object(_t.jsx)(_t.Fragment,{children:i&&Object(_t.jsxs)("div",{className:"".concat(ee.a.container," ").concat("error"===e&&ee.a.error),children:[Object(_t.jsx)("div",{children:a||"I am Alert"}),Object(_t.jsx)("span",{onClick:l,children:"X"})]})})})),ne=Object(s.memo)((function(){var t=mt((function(t){return t.app.error})),e=kt(),a=Object(s.useCallback)((function(){e(C({error:""}))}),[e]);return Object(_t.jsx)(ae,{type:"error",text:t,open:!!t,onClose:a})})),re=Object(s.memo)((function(){return Object(_t.jsx)("div",{className:ee.a.alertsWrapper,children:Object(_t.jsx)(ne,{})})})),se=function(){return Object(_t.jsx)(l.a,{store:ft,children:Object(_t.jsxs)(u.a,{children:[Object(_t.jsx)(re,{}),Object(_t.jsx)($t,{}),Object(_t.jsx)(Ut,{})]})})};i.a.render(Object(_t.jsx)(c.a.StrictMode,{children:Object(_t.jsx)(se,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.d38302c1.chunk.js.map