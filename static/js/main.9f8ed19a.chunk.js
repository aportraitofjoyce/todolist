(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{11:function(t,e,n){t.exports={container:"Input_container__1azzw",input:"Input_input__2HRDK",inputError:"Input_inputError__1hcoG",errorMessage:"Input_errorMessage__1nrIJ"}},16:function(t,e,n){t.exports={taskContentContainer:"Task_taskContentContainer__13kUw",taskContent:"Task_taskContent__360MP"}},19:function(t,e,n){t.exports={container:"AddItemForm_container__3kUTm"}},20:function(t,e,n){t.exports={checkbox:"Checkbox_checkbox__1Umq4"}},27:function(t,e,n){},3:function(t,e,n){t.exports={todolistsWrapper:"Todolist_todolistsWrapper__2YSuQ",addTodolistContainer:"Todolist_addTodolistContainer__3N228",todolistContainer:"Todolist_todolistContainer__3n5Qj",buttonsContainer:"Todolist_buttonsContainer__2chum",titleContainer:"Todolist_titleContainer__2mDXL",addTaskContainer:"Todolist_addTaskContainer__Ap9Ba"}},33:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(12),i=n.n(r),o=(n(27),n(3)),s=n.n(o),l=n(9),u=n(2),O=n(5),T=n(7),b=n.n(T),j=n(1),d=a.a.memo((function(t){var e=t.active,n=t.grouped,c=t.className,a=Object(O.a)(t,["active","grouped","className"]),r="".concat(b.a.default," ").concat(e?b.a.active:""," ").concat(n?b.a.grouped:""," ").concat(c||"");return Object(j.jsx)("button",Object(u.a)({className:r},a))})),I=n(11),D=n.n(I),_=function(t){t.type;var e=t.onChange,n=t.onChangeText,c=t.onKeyPress,a=t.onEnter,r=t.error,i=t.className,o=t.spanClassName,s=Object(O.a)(t,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),l="".concat(D.a.errorMessage," ").concat(o||""),T="".concat(r?D.a.inputError:""," ").concat(D.a.input," ").concat(i||"");return Object(j.jsxs)("div",{className:D.a.container,children:[Object(j.jsx)("input",Object(u.a)({type:"text",onChange:function(t){e&&e(t),n&&n(t.currentTarget.value)},onKeyPress:function(t){c&&c(t),a&&"Enter"===t.key&&a()},className:T,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442..."},s)),r&&Object(j.jsx)("span",{className:l,children:r})]})},k=n(19),f=n.n(k),h=a.a.memo((function(t){var e=Object(c.useState)(""),n=Object(l.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],O=Object(c.useCallback)((function(t){r(t.currentTarget.value),s&&u(!1)}),[s]),T=Object(c.useCallback)((function(){a.trim()?(t.addItem(a.trim()),r("")):(r(""),u(!0))}),[t.addItem,a]),b=Object(c.useCallback)((function(t){"Enter"===t.key&&T()}),[T]);return Object(j.jsxs)("div",{className:f.a.container,children:[Object(j.jsx)(_,{value:a,onChange:O,onKeyPress:b,error:s?"Field is required":""}),Object(j.jsx)(d,{onClick:T,children:"Add"})]})})),S=a.a.memo((function(t){var e=Object(c.useState)(t.title),n=Object(l.a)(e,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),s=o[0],u=o[1],O=Object(c.useCallback)((function(){return u(!0)}),[]),T=Object(c.useCallback)((function(){u(!1),t.changeTitle(a)}),[t.changeTitle,a]),b=Object(c.useCallback)((function(t){return r(t.currentTarget.value)}),[]),d=Object(c.useCallback)((function(t){"Enter"===t.key&&T()}),[T]);return s?Object(j.jsx)(_,{value:a,onBlur:T,onChange:b,onKeyPress:d,autoFocus:!0}):Object(j.jsx)("span",{onDoubleClick:O,children:t.title})})),C=a.a.memo((function(t){var e=t.className,n=Object(O.a)(t,["className"]),c="".concat(b.a.icon," ").concat(e||"");return Object(j.jsx)("button",Object(u.a)({className:c},n))})),m=function(){return Object(j.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x",children:[Object(j.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(j.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},p=n(16),g=n.n(p),x=n(20),v=n.n(x),L=a.a.memo((function(t){return Object(j.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(e){t.changeTaskStatus(e.currentTarget.checked)},className:v.a.checkbox})})),N=a.a.memo((function(t){var e=Object(c.useCallback)((function(){return t.removeTask(t.id,t.TODOLIST_ID)}),[t.id,t.TODOLIST_ID]),n=Object(c.useCallback)((function(e){return t.changeTaskTitle(t.id,e,t.TODOLIST_ID)}),[t.id,t.TODOLIST_ID]),a=Object(c.useCallback)((function(e){return t.changeTaskStatus(t.id,e,t.TODOLIST_ID)}),[t.id,t.TODOLIST_ID]);return Object(j.jsxs)("div",{className:g.a.taskContentContainer,children:[Object(j.jsxs)("div",{className:g.a.taskContent,children:[Object(j.jsx)(L,{checked:t.checked,changeTaskStatus:a}),Object(j.jsx)(S,{title:t.title,changeTitle:n})]}),Object(j.jsx)(C,{onClick:e,children:Object(j.jsx)(m,{})})]})})),y=a.a.memo((function(t){Object(c.useCallback)((function(e){return t.changeTodolistFilter(e,t.TODOLIST_ID)}),[t.changeTodolistFilter,t.TODOLIST_ID]);var e=Object(c.useCallback)((function(){return t.changeTodolistFilter("All",t.TODOLIST_ID)}),[t.changeTodolistFilter,t.TODOLIST_ID]),n=Object(c.useCallback)((function(){return t.changeTodolistFilter("Active",t.TODOLIST_ID)}),[t.changeTodolistFilter,t.TODOLIST_ID]),a=Object(c.useCallback)((function(){return t.changeTodolistFilter("Completed",t.TODOLIST_ID)}),[t.changeTodolistFilter,t.TODOLIST_ID]),r=Object(c.useCallback)((function(){return t.removeTodolist(t.TODOLIST_ID)}),[t.removeTodolist,t.TODOLIST_ID]),i=Object(c.useCallback)((function(e){return t.addTask(e,t.TODOLIST_ID)}),[t.addTask,t.TODOLIST_ID]),o=Object(c.useCallback)((function(e){return t.changeTodolistTitle(e,t.TODOLIST_ID)}),[t.changeTodolistTitle,t.TODOLIST_ID]),l=Object(c.useCallback)((function(){return t.sortTasksByName(t.TODOLIST_ID)}),[t.sortTasksByName,t.TODOLIST_ID]),u=Object(c.useCallback)((function(e){switch(e){case"Completed":return t.tasks.filter((function(t){return t.isDone}));case"Active":return t.tasks.filter((function(t){return!t.isDone}));default:return t.tasks}}),[t.tasks]);return Object(j.jsxs)("div",{className:s.a.todolistContainer,children:[Object(j.jsxs)("div",{className:s.a.titleContainer,children:[Object(j.jsx)(S,{title:t.title,changeTitle:o}),Object(j.jsx)(C,{onClick:r,children:Object(j.jsx)(m,{})})]}),Object(j.jsx)("div",{className:s.a.addTaskContainer,children:Object(j.jsx)(h,{addItem:i})}),Object(j.jsx)("div",{children:u(t.filter).map((function(e){return Object(j.jsx)(N,{TODOLIST_ID:t.TODOLIST_ID,id:e.id,checked:e.isDone,title:e.title,removeTask:t.removeTask,changeTaskTitle:t.changeTaskTitle,changeTaskStatus:t.changeTaskStatus},e.id)}))}),Object(j.jsxs)("div",{className:s.a.buttonsContainer,children:[Object(j.jsx)(d,{onClick:e,active:"All"===t.filter,grouped:!0,children:"All"}),Object(j.jsx)(d,{onClick:n,active:"Active"===t.filter,grouped:!0,children:"Active"}),Object(j.jsx)(d,{onClick:a,active:"Completed"===t.filter,grouped:!0,children:"Completed"})]}),Object(j.jsx)("div",{className:s.a.buttonsContainer,children:Object(j.jsx)(d,{onClick:l,grouped:!0,children:"Sort by name"})})]})})),A=n(8),E="REMOVE_TASK",w="ADD_TASK",F="CHANGE_TASK_STATUS",B="CHANGE_TASK_TITLE",K="SORT_TASKS_BY_NAME",M=n(34),W="REMOVE_TODOLIST",G="ADD_TODOLIST",P="CHANGE_TODOLIST_FILTER",H="CHANGE_TODOLIST_TITLE",J=function(){var t=Object(A.c)((function(t){return t.tasks})),e=Object(A.c)((function(t){return t.todolists})),n=Object(A.b)(),a=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:E,taskID:t,TODOLIST_ID:e}}(t,e))}),[n]),r=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:w,title:t,TODOLIST_ID:e}}(t,e))}),[n]),i=Object(c.useCallback)((function(t,e,c){n(function(t,e,n){return{type:F,taskID:t,isDone:e,TODOLIST_ID:n}}(t,e,c))}),[n]),o=Object(c.useCallback)((function(t,e,c){n(function(t,e,n){return{type:B,taskID:t,title:e,TODOLIST_ID:n}}(t,e,c))}),[n]),l=Object(c.useCallback)((function(t){n(function(t){return{type:K,TODOLIST_ID:t}}(t))}),[n]),u=Object(c.useCallback)((function(t){n(function(t){return{type:G,title:t,NEW_TODOLIST_ID:Object(M.a)()}}(t))}),[n]),O=Object(c.useCallback)((function(t){n(function(t){return{type:W,TODOLIST_ID:t}}(t))}),[n]),T=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:P,filter:t,TODOLIST_ID:e}}(t,e))}),[n]),b=Object(c.useCallback)((function(t,e){n(function(t,e){return{type:H,title:t,TODOLIST_ID:e}}(t,e))}),[n]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:s.a.addTodolistContainer,children:Object(j.jsx)(h,{addItem:u})}),Object(j.jsx)("div",{className:s.a.todolistsWrapper,children:e.map((function(e){return Object(j.jsx)(y,{TODOLIST_ID:e.id,title:e.title,filter:e.filter,removeTask:a,addTask:r,changeTaskStatus:i,changeTodolistFilter:T,removeTodolist:O,tasks:t[e.id],changeTaskTitle:o,changeTodolistTitle:b,sortTasksByName:l},e.id)}))})]})},R=n(18),U=n(6),q=[],Q=n(21),z=n(4),V={},Y=Object(R.a)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case W:return Object(U.a)(t.filter((function(t){return t.id!==e.TODOLIST_ID})));case G:return[].concat(Object(U.a)(t),[{id:e.NEW_TODOLIST_ID,title:e.title,filter:"All"}]);case P:return Object(U.a)(t.map((function(t){return t.id===e.TODOLIST_ID?Object(u.a)(Object(u.a)({},t),{},{filter:e.filter}):t})));case H:return Object(U.a)(t.map((function(t){return t.id===e.TODOLIST_ID?Object(u.a)(Object(u.a)({},t),{},{title:e.title}):t})));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.TODOLIST_ID,t[e.TODOLIST_ID].filter((function(t){return t.id!==e.taskID}))));case w:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.TODOLIST_ID,[{id:Object(M.a)(),title:e.title,isDone:!1}].concat(Object(U.a)(t[e.TODOLIST_ID]))));case F:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.TODOLIST_ID,t[e.TODOLIST_ID].map((function(t){return t.id===e.taskID?Object(u.a)(Object(u.a)({},t),{},{isDone:e.isDone}):t}))));case B:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.TODOLIST_ID,t[e.TODOLIST_ID].map((function(t){return t.id===e.taskID?Object(u.a)(Object(u.a)({},t),{},{title:e.title}):t}))));case K:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.TODOLIST_ID,Object(U.a)(t[e.TODOLIST_ID]).sort((function(t,e){return t.title>e.title?1:-1}))));case G:return Object(u.a)(Object(u.a)({},t),{},Object(z.a)({},e.NEW_TODOLIST_ID,[]));case W:var n=e.TODOLIST_ID,c=(t[n],Object(O.a)(t,[n].map(Q.a)));return c;default:return t}}}),X=Object(R.b)(Y,function(){try{var t=localStorage.getItem("todolistState");return null===t?void 0:JSON.parse(t)}catch(e){return}}());X.subscribe((function(){!function(t){try{var e=JSON.stringify(t);localStorage.setItem("todolistState",e)}catch(n){}}(X.getState())})),i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(A.a,{store:X,children:Object(j.jsx)(J,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={default:"Button_default__30-Gc",grouped:"Button_grouped__1qQvh",active:"Button_active__2ym-I",icon:"Button_icon___Tuok"}}},[[33,1,2]]]);
//# sourceMappingURL=main.9f8ed19a.chunk.js.map